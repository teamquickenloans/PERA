<!DOCTYPE html>
<html ng-app="parkingDashboard">
<head>

    <meta charset="UTF-8">
    <title>Parking Dashboard</title>
    <!-- <link rel="stylesheet" type="text/css" href="dashboard.css"> -->
    <!-- ====================== jQuery ============================== -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript"></script>

    <!-- ====================== AngularJS ============================== -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>

    <!-- ====================== Foundation ============================ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.0/css/foundation.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.0/js/foundation.min.js"></script>

    <!-- ====================== Google Maps API ============================ -->
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBV-BwHOcVyVW0e8yJa1sAk5GBFtm5YeHM">
    </script>

    <!-- ====================== app.js ======================== -->
    <script src="~/Scripts/Angular/app.js"></script>

    <!-- ====================== CSS ================================= -->
    <style type="text/css">
        html, body, #wrapper, #parkingContent {
            height: 100%;
            padding: 0;
            margin: 0;
        }

        body {
            background-color: #CCC;
        }

        #map-canvas {
            height: 100%;
        }

        #sideBar {
            height: 100%;
            overflow: auto;
        }

        .row {
            max-width: 100%;
        }

        #sideBarContent {
            margin: 10px;
        }

        #expenseContent {
            height: 100%;
        }

        #expenseMain {
            height: 100%;
        }

        .tableHeader {
            font-weight: bold;
            font-size: 1.1em;
            height: 1.65em;
            background-color: #5ac;
            padding-right: 15px;
        }

        #issueTable {
            height: 60%;
            overflow: auto;
        }

        .issueRow {
            margin-top: 1px;
            height: 1.65em;
            background-color: #aaa;
        }

        .selected {
            background-color: #6c8;
        }

        .left {
            width: 30%;
            float: left;
            text-align: left;
            margin-left: 5%;
        }

        .center {
            width: 30%;
            float: left;
            text-align: center;
        }

        .right {
            width: 30%;
            float: left;
            text-align: right;
            margin-right: 5%;
        }
    </style>

</head>


<body ng-controller="MapController as map">

    <div id="wrapper" ng-controller="TabController as tab">

        <!-- ======================== Nav Bar ============================ -->
        <nav class="top-bar" data-topbar role="navigation">
            <ul class="title-area">
                <li class="name">
                    <h1><a href>Parking Dashboard</a></h1>
                </li>
            </ul>

            <section class="top-bar-section">
                <!-- Right Nav Section -->
                <ul class="right">
                    <li id="OverviewNav" ng-class="{active:tab.sideIsSet(0)}">
                        <a href ng-click="tab.setSideTab(0)">Overview</a>
                    </li>
                    <li id="SingGarNav" ng-class="{active:!tab.sideIsSet(0)}" class="has-dropdown">
                        <a href>Single Garage</a>
                        <ul id="dropdownTopBar" class="dropdown">
                            <div ng-repeat="garage in map.garages">
                                <li><a href ng-click="tab.setSideTab(1)">{{garage.name}}</a></li> <!-- TODO: ng-click event no worky -->
                            </div>
                        </ul>
                    </li>
                </ul>

                <!-- Left Nav Section -->
                <ul class="left">
                    <li ng-class="{active:tab.isSet(1)}">
                        <a href ng-click="tab.setTab(1)">Expense Reconcilliation</a>
                    </li>
                    <li ng-class="{active:tab.isSet(2)}">
                        <a href ng-click="tab.setTab(2); map.initialized || map.initialize();">Parking Allocation</a>
                    </li>
                    <li ng-class="{active:tab.isSet(3)}">
                        <a href ng-click="tab.setTab(3)">Notifications</a>
                    </li>
                </ul>
            </section>
        </nav>





        <!-- ======================== Expense Reconciliation Content ============================ -->
        <div id="expenseContent" class="row" ng-controller="ExpRecController as erc" ng-show="tab.isSet(1)">
                <div class="row" style="background-color:blue">
                    from the faun forever gone
                    in the towers of your honeycomb
                    I’d a tore your hair out just to climb back darling
                    when you’re filling out your only form
                    can you tell that itʼs just ceremon’
                    now you’ve added up to what you’re from
                </div>
                <table class="TabController as tabCtrl">
                    <tr>
                        <th>Garages</th>
                        <th>Issue</th>
                        <th>Date</th>
                    </tr>
                    <tr ng-repeat="issue in erc.issues" ng-class="{selected:tabCtrl.isSet($index)}" ng-click="tabCtrl.setTab($index)" ng-init="tabCtrl.setTab(-1)">
                        <!---->
                        <td>{{issue.garage}}</td>
                        <td>{{issue.issue}}</td>
                        <td>{{issue.date | date:'MM/dd/yyyy'}}</td>
                    </tr>
                </table>

            <div id="ho" class="columns small-4">

            </div>

        </div>



        <!-- ======================== Parking Allocation Content ============================ -->
        <div id="parkingContent" class="row" ng-show="tab.isSet(2)">

            <div id="map-canvas" class="columns small-10"></div>
            <div id="sideBar" class="columns small-2">
                <!-- TODO: add garage info -->
            </div>

        </div>



        <!-- ======================== Notifications Content ============================ -->
        <div id="notificationsContent" class="row" ng-show="tab.isSet(3)">

            <div id="1" class="columns small-10"></div>
            <div id="2" class="columns small-2">

            </div>

        </div>

    </div>

</body>

</html> 